{"version":3,"sources":["components/Tracker/Tracker.module.css","components/Duration/Duration.module.css","components/TrackerInput/TrackerInput.module.css","components/IconButton/IconButton.module.css","components/StopwatchControlButton/StopwatchControlButton.module.css","components/DeleteButton/DeleteButton.module.css","components/TrackerControl/TrackerControl.module.css","components/TrackingList/TrackingList.module.css","components/App/App.module.css","actions/types.js","components/Header/Header.js","components/Header/index.js","actions/trackersActions.js","components/TrackerInput/TrackerInput.js","components/TrackerInput/index.js","functions/formatDuration.js","components/Duration/Duration.js","components/Duration/index.js","components/IconButton/IconButton.js","components/IconButton/index.js","components/StopwatchControlButton/StopwatchControlButton.js","components/StopwatchControlButton/index.js","components/DeleteButton/DeleteButton.js","components/DeleteButton/index.js","components/TrackerControl/TrackerControl.js","components/TrackerControl/index.js","components/Tracker/Tracker.js","components/Tracker/index.js","components/TrackingList/TrackingList.js","components/TrackingList/index.js","components/App/App.js","components/App/index.js","actions/updateActions.js","reducers/trackerReducer.js","reducers/index.js","localStorage.js","store.js","index.js"],"names":["module","exports","ADD_TRACKER","DELETE_TRACKER","CHANGE_STOPWATCH_STATE","UPDATE_STOPWATCHES","Header","className","style","header","addTracker","name","dispatch","now","moment","newTracker","id","uuidv4","format","breakpoint","toJSON","duration","paused","type","payload","TrackerInput","useState","setName","inputEl","useRef","useDispatch","onClick","current","focus","value","onInput","e","target","onKeyDown","key","placeholder","ref","start","formatDuration","currentDuration","seconds","get","slice","minutes","hoursTotal","Math","floor","asHours","toString","hours","length","Duration","formattedDuration","stopwatch","stopped","running","color","IconButton","children","icon","StopwatchControlButton","stateIcon","btn","isPaused","nextBreakpoint","nextDuration","add","diff","changeStopwatchState","DeleteButton","deleteTracker","TrackerControl","control","Tracker","tracker","bg","TrackingList","trackersList","useSelector","state","trackers","map","App","update","getState","updatedTrackers","prevBreakpoint","prevDuration","useEffect","intervalId","setInterval","clearInterval","app","initialState","trackerReducer","action","filter","combineReducers","TRACKERS","serializedData","localStorage","getItem","parsedData","JSON","parse","Array","isArray","err","loadData","middleware","thunk","store","createStore","rootReducer","applyMiddleware","subscribe","stringify","setItem","saveData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a0bd7443.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tracker\":\"Tracker_tracker__2Vtfk\",\"name\":\"Tracker_name__1h__i\",\"running\":\"Tracker_running__1SzBU\",\"stopped\":\"Tracker_stopped__ZvKue\",\"bg-running\":\"Tracker_bg-running__2DoXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"running\":\"Duration_running__3-MHd\",\"stopped\":\"Duration_stopped__3g9j_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input-container\":\"TrackerInput_input-container__dLxsD\",\"start\":\"TrackerInput_start__3AWI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"IconButton_icon__1gnc-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"StopwatchControlButton_btn__1nwQk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"DeleteButton_btn__1sPeW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"TrackerControl_control__O3MgM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trackers\":\"TrackingList_trackers__Tdx9z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__hzWeh\"};","export const ADD_TRACKER = 'ADD_TRACKER';\r\nexport const DELETE_TRACKER = 'DELETE_TRACKER';\r\nexport const CHANGE_STOPWATCH_STATE = 'CHANGE_STOPWATCH_STATE';\r\nexport const UPDATE_STOPWATCHES = 'UPDATE_STOPWATCHES';\r\n","import React from 'react';\r\nimport style from './Header.module.css'\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className={style.header}>\r\n      <h1>tracker</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import Header from './Header';\r\nexport default Header;\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport moment from 'moment';\r\nimport { ADD_TRACKER, DELETE_TRACKER, CHANGE_STOPWATCH_STATE } from './types';\r\n\r\n// TODO: Check if it is better to move logic in first argument\r\n// https://medium.com/javascript-scene/10-tips-for-better-redux-architecture-69250425af44#dd39\r\nexport const addTracker = (name) => (dispatch) => {\r\n  const now = moment();\r\n  const newTracker = {\r\n    id: uuidv4(),\r\n    name: name || now.format('DD/MM/YYYY HH:mm:ss'),\r\n    breakpoint: now.toJSON(),\r\n    duration: moment.duration().toJSON(),\r\n    paused: false,\r\n  };\r\n  dispatch({\r\n    type: ADD_TRACKER,\r\n    payload: newTracker,\r\n  });\r\n};\r\n\r\nexport const deleteTracker = (id) => (dispatch) => {\r\n  dispatch({\r\n    type: DELETE_TRACKER,\r\n    id,\r\n  });\r\n};\r\n\r\nexport const changeStopwatchState = (id, paused, breakpoint, duration) => (\r\n  dispatch\r\n) => {\r\n  const isPaused = !paused; // after on start/stop button clicked\r\n  const nextBreakpoint = moment();\r\n  const nextDuration = isPaused\r\n    ? moment.duration(duration).add(nextBreakpoint.diff(breakpoint))\r\n    : moment.duration(duration);\r\n  dispatch({\r\n    type: CHANGE_STOPWATCH_STATE,\r\n    payload: {\r\n      id,\r\n      paused: isPaused,\r\n      breakpoint: nextBreakpoint.toJSON(),\r\n      duration: nextDuration.toJSON(),\r\n    },\r\n  });\r\n};\r\n","import React, { useState, useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addTracker } from '../../actions/trackersActions';\r\nimport { MdPlayCircleFilled as Start } from 'react-icons/md';\r\nimport style from './TrackerInput.module.css';\r\n\r\nfunction TrackerInput() {\r\n  const [name, setName] = useState('');\r\n  const inputEl = useRef(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onDivClick = () => {\r\n    inputEl.current.focus();\r\n  };\r\n\r\n  const onInputHandler = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const onButtonHandler = () => {\r\n    dispatch(addTracker(name));\r\n    setName('');\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      dispatch(addTracker(name));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={style['input-container']} onClick={onDivClick}>\r\n      <input\r\n        type=\"text\"\r\n        value={name}\r\n        onInput={onInputHandler}\r\n        onKeyDown={handleKeyDown}\r\n        placeholder=\"Enter tracker name\"\r\n        ref={inputEl}\r\n      />\r\n      <div className={style.start} onClick={onButtonHandler}>\r\n        <Start />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrackerInput;\r\n","import TrackerInput from './TrackerInput';\r\nexport default TrackerInput;\r\n","import moment from 'moment';\r\n\r\nconst formatDuration = (duration) => {\r\n  const currentDuration = moment.duration(duration);\r\n  const seconds = `00${currentDuration.get('seconds')}`.slice(-2);\r\n  const minutes = `00${currentDuration.get('minutes')}`.slice(-2);\r\n  const hoursTotal = Math.floor(currentDuration.asHours()).toString();\r\n  const hours =\r\n    hoursTotal.length >= 2\r\n      ? hoursTotal\r\n      : hoursTotal.length === 1\r\n      ? `0${hoursTotal}`\r\n      : '00';\r\n  return `${hours}:${minutes}:${seconds}`;\r\n};\r\n\r\nexport default formatDuration;\r\n","import React from 'react';\r\nimport style from './Duration.module.css';\r\nimport formatDuration from '../../functions/formatDuration';\r\n\r\nfunction Duration({ duration, paused }) {\r\n  const formattedDuration = formatDuration(duration);\r\n\r\n  const { stopwatch, stopped, running } = style;\r\n  const color = paused ? stopped : running;\r\n\r\n  return (\r\n    <div className={`${stopwatch} ${color}`}>\r\n      <span>{formattedDuration}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Duration;\r\n","import Duration from './Duration';\r\nexport default Duration;\r\n","import React from 'react';\r\nimport style from './IconButton.module.css';\r\n\r\nfunction IconButton({ children }) {\r\n  return <div className={style.icon}>{children}</div>;\r\n}\r\n\r\nexport default IconButton;\r\n","import IconButton from './IconButton';\r\nexport default IconButton;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { changeStopwatchState } from '../../actions/trackersActions';\r\nimport {\r\n  MdPauseCircleOutline as Pause,\r\n  MdPlayCircleOutline as Start,\r\n} from 'react-icons/md';\r\nimport IconButton from '../IconButton';\r\nimport style from './StopwatchControlButton.module.css';\r\n\r\nfunction StopwatchControlButton({ id, paused, breakpoint, duration }) {\r\n  const dispatch = useDispatch();\r\n  const stopwatchStateHandler = () => {\r\n    dispatch(changeStopwatchState(id, paused, breakpoint, duration));\r\n  };\r\n  const stateIcon = paused ? <Start /> : <Pause />;\r\n\r\n  return (\r\n    <div className={style.btn} onClick={stopwatchStateHandler}>\r\n      <IconButton>{stateIcon}</IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StopwatchControlButton;\r\n","import StopwatchControlButton from './StopwatchControlButton';\r\nexport default StopwatchControlButton;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteTracker } from '../../actions/trackersActions';\r\nimport { MdRemoveCircleOutline as Delete } from 'react-icons/md';\r\nimport IconButton from '../IconButton';\r\nimport style from './DeleteButton.module.css';\r\n\r\nfunction DeleteButton({ id }) {\r\n  const dispatch = useDispatch();\r\n  const deleteTrackerHandler = () => {\r\n    dispatch(deleteTracker(id));\r\n  };\r\n  return (\r\n    <div className={style.btn} onClick={deleteTrackerHandler}>\r\n      <IconButton>\r\n        <Delete />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeleteButton;\r\n","import DeleteButton from './DeleteButton';\r\nexport default DeleteButton;\r\n","import React from 'react';\r\nimport StopwatchControlButton from '../StopwatchControlButton';\r\nimport DeleteButton from '../DeleteButton';\r\nimport style from './TrackerControl.module.css';\r\n\r\nfunction TrackerControl({ id, paused, breakpoint, duration }) {\r\n  return (\r\n    <div className={style.control}>\r\n      <StopwatchControlButton\r\n        id={id}\r\n        paused={paused}\r\n        breakpoint={breakpoint}\r\n        duration={duration}\r\n      />\r\n      <DeleteButton id={id} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrackerControl;\r\n","import TrackerControl from './TrackerControl';\r\nexport default TrackerControl;\r\n","import React from 'react';\r\nimport Duration from '../Duration';\r\nimport TrackerControl from '../TrackerControl';\r\nimport style from './Tracker.module.css';\r\n\r\nfunction Tracker({ tracker }) {\r\n  const { id, name, paused, breakpoint, duration } = tracker;\r\n  const color = paused ? style.stopped : style.running;\r\n  const bg = paused ? '' : style['bg-running'];\r\n  return (\r\n    <div className={`${style.tracker} ${bg}`}>\r\n      <h3 className={`${style.name} ${color}`}>{name}</h3>\r\n      <Duration duration={duration} paused={paused} />\r\n      <TrackerControl\r\n        id={id}\r\n        paused={paused}\r\n        breakpoint={breakpoint}\r\n        duration={duration}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Tracker;\r\n","import Tracker from './Tracker';\r\nexport default Tracker;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Tracker from '../Tracker';\r\nimport style from './TrackingList.module.css';\r\n\r\nfunction TrackingList() {\r\n  const trackers = useSelector((state) => state.trackers);\r\n\r\n  const trackersList = trackers.map((tracker) => (\r\n    <Tracker key={tracker.id} tracker={tracker} />\r\n  ));\r\n\r\n  return <div className={style.trackers}>{trackersList}</div>;\r\n}\r\n\r\nexport default TrackingList;\r\n","import TrackingList from './TrackingList';\r\nexport default TrackingList;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateStopwatches } from '../../actions/updateActions';\r\nimport Header from '../Header';\r\nimport TrackerInput from '../TrackerInput';\r\nimport TrackingList from '../TrackingList';\r\nimport style from './App.module.css';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const update = () => {\r\n    dispatch(updateStopwatches());\r\n  };\r\n\r\n  useEffect(() => {\r\n    const intervalId = setInterval(update, 1000);\r\n    return () => {\r\n      clearInterval(intervalId);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={style.app}>\r\n      <Header />\r\n      <TrackerInput />\r\n      <TrackingList />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import App from './App';\r\nexport default App;\r\n","import moment from 'moment';\r\nimport { UPDATE_STOPWATCHES } from './types';\r\n\r\nexport const updateStopwatches = () => (dispatch, getState) => {\r\n  const updatedTrackers = getState().trackers.map((tracker) => {\r\n    if (tracker.paused) {\r\n      return tracker;\r\n    }\r\n    const prevBreakpoint = moment(tracker.breakpoint);\r\n    const prevDuration = moment.duration(tracker.duration);\r\n    const nextBreakpoint = moment();\r\n    const nextDuration = prevDuration.add(nextBreakpoint.diff(prevBreakpoint));\r\n    return {\r\n      ...tracker,\r\n      breakpoint: nextBreakpoint.toJSON(),\r\n      duration: nextDuration.toJSON(),\r\n    };\r\n  });\r\n  dispatch({\r\n    type: UPDATE_STOPWATCHES,\r\n    updatedTrackers,\r\n  });\r\n};\r\n","import {\r\n  ADD_TRACKER,\r\n  DELETE_TRACKER,\r\n  CHANGE_STOPWATCH_STATE,\r\n  UPDATE_STOPWATCHES,\r\n} from '../actions/types';\r\n\r\nconst initialState = [];\r\n\r\nconst trackerReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TRACKER:\r\n      return [action.payload, ...state];\r\n    case DELETE_TRACKER:\r\n      return state.filter((tracker) => tracker.id !== action.id);\r\n    case CHANGE_STOPWATCH_STATE:\r\n      return state.map((tracker) => {\r\n        if (tracker.id === action.payload.id) {\r\n          const { paused, breakpoint, duration } = action.payload;\r\n          return {\r\n            ...tracker,\r\n            paused,\r\n            breakpoint,\r\n            duration,\r\n          };\r\n        }\r\n        return tracker;\r\n      });\r\n    case UPDATE_STOPWATCHES:\r\n      return action.updatedTrackers;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default trackerReducer;\r\n","import { combineReducers } from 'redux';\r\nimport trackerReducer from './trackerReducer';\r\n\r\nexport default combineReducers({\r\n  trackers: trackerReducer,\r\n});\r\n","const TRACKERS = 'trackers';\r\n\r\nexport const loadData = () => {\r\n  try {\r\n    const serializedData = localStorage.getItem(TRACKERS);\r\n    if (serializedData !== null) {\r\n      const parsedData = JSON.parse(serializedData);\r\n      if (Array.isArray(parsedData)) {\r\n        return parsedData;\r\n      }\r\n    }\r\n    return [];\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const saveData = (trackers) => {\r\n  try {\r\n    const serializedData = JSON.stringify(trackers);\r\n    localStorage.setItem(TRACKERS, serializedData);\r\n  } catch (err) {\r\n    // Ignore write errors.\r\n  }\r\n};\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\nimport { loadData, saveData } from './localStorage';\r\n\r\nconst persistedData = loadData();\r\n\r\nconst initialState = {\r\n  trackers: persistedData,\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\n// as a backup use initialState above instead persistedState\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  applyMiddleware(...middleware)\r\n);\r\n\r\nstore.subscribe(() => {\r\n  const trackers = store.getState().trackers || [];\r\n  saveData([...trackers]);\r\n});\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}